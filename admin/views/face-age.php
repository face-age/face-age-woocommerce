<div class="wrap">    <h1>Face Age Settings</h1>    <?php    if(isset($_POST['face_success']) && $_POST['face_success']){        echo '<div class="updated"><p>'.$_POST['face_success'].'</p></div>';    }    if(isset($_POST['face_error']) && $_POST['face_error']){        echo '<div class="error"><p>'.$_POST['face_error'].'</p></div>';    }    ?>    <form method="post" >        <table class="form-table" role="presentation">            <tbody>                <tr>                    <th scope="row"><label for="faceageId">Face Age Id</label></th>                    <td>                        <input name="faceageId" type="text" id="faceageId" value="<?= $id ?>" class="regular-text">                        <p class="description">To get the code, first enter the <a href="https://getfaceage.com/" target="_blank">face age</a> site and after registration, get the id for your site.</p>                    </td>                </tr>                <tr>                    <th scope="row">Data entry method</th>                    <td>                        <fieldset>                            <legend class="screen-reader-text"><span>Data entry method</span></legend>                            <label for="data_entry_manual">                                <input name="faceage_data_entry" type="radio" id="data_entry_manual" value="manual" <?= (!$data_entry || $data_entry === 'manual') ? 'checked="checked"' : '' ?>>                                manual                            </label>                            <br>                            <label for="data_entry_automatic" style="opacity: 0.5">                                <input name="faceage_data_entry" disabled type="radio" id="data_entry_automatic" value="automatic" <?= ($data_entry === 'automatic') ? 'checked="checked"' : '' ?>>                                automatic                            </label>                        </fieldset>                    </td>                </tr>            </tbody>        </table>        <p class="submit">            <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes">        </p>    </form>    <hr />    <h2 class="title">Get the display code</h2>    <p>To display the analyzer, first put the code in one of the pages of the site.</p>    <table class="form-table" role="presentation">        <tbody>        <tr>            <th scope="row">Display the analyzer section</th>            <td>                <p>                    <code id="build_code" style="padding: 10px; line-height: 37px">[FaceAge type='skincare-analyze']</code>                </p>            </td>        </tr>        <tr>            <th scope="row">Display the products section</th>            <td>                <p>                    <code id="" style="padding: 10px; line-height: 37px">[FaceAge-products]</code>                </p>            </td>        </tr>        <tr>            <th scope="row">Type</th>            <td>                <fieldset>                    <legend class="screen-reader-text"><span>Display type</span></legend>                    <label for="type_skincare">                        <input name="face_type" type="radio" id="type_skincare" value="skincare">                        skincare                    </label>                    <br>                    <label for="type_skincare_analyze">                        <input name="face_type" type="radio" id="type_skincare_analyze" value="skincare-analyzer" checked="checked">                        skincare and analyze                    </label>                    <p class="description">Define the analysis display mode. If you set the type to skincare, only the possibility of receiving the image will be displayed, while the skincare-analyze value is entered, the image will be received and the received data will also be displayed.</p>                </fieldset>            </td>        </tr>        <tr>            <th scope="row">Access</th>            <td>                <fieldset>                    <legend class="screen-reader-text"><span>Display access</span></legend>                    <?php                    if($access){                        foreach ($access as $item){                            ?>                            <label for="access_<?= $item ?>">                                <input name="face_access" type="checkbox" id="access_<?= $item ?>" value="<?= $item ?>" checked="checked">                                <?= $item ?>                            </label>                            <br>                            <?php                        }                    }                    ?>                    <p class="description">You can set it to display more limited analysis information.</p>                </fieldset>            </td>        </tr>        <tr>            <th scope="row">How to import an image</th>            <td>                <fieldset>                    <legend class="screen-reader-text"><span>Show Camera</span></legend>                    <label for="showCamera">                        <input name="face_showCamera" type="checkbox" id="showCamera" checked="checked">                        camera                    </label>                    <br>                    <label for="showUpload">                        <input name="face_showUpload" type="checkbox" id="showUpload" checked="checked">                        upload                    </label>                </fieldset>            </td>        </tr>        <tr>            <th scope="row">Show points</th>            <td>                <fieldset>                    <legend class="screen-reader-text"><span>Show points</span></legend>                    <label for="showFacePoint">                        <input name="face_showFacePoint" type="checkbox" id="showFacePoint" checked="checked">                        Ability to display analysis points on the face.                    </label>                </fieldset>            </td>        </tr>        </tbody>    </table>    <script>        var key = 'FaceAge';        var type = '';        var access = [];        var showCamera = true;        var showUpload = true;        var showFacePoint = true;        function generate_face_age_code() {            var el_type = document.querySelectorAll('input[name$="face_type"]');            if(el_type){                for(var x = 0; x < el_type.length; x++){                    if(el_type[x].checked){                        type = el_type[x].value;                    }                }            }            var el_acc = document.querySelectorAll('input[name$="face_access"]');            if(el_acc){                access = [];                for(var x = 0; x < el_acc.length; x++){                    if(el_acc[x].checked) {                        access.push(el_acc[x].value)                    }                }            }            var el_camera = document.querySelector('input[name$="face_showCamera"]');            if(el_camera)                showCamera = el_camera.checked;            var el_upload = document.querySelector('input[name$="face_showUpload"]');            if(el_upload)                showUpload = el_upload.checked;            var el_point = document.querySelector('input[name$="face_showFacePoint"]');            if(el_point)                showFacePoint = el_point.checked;            var build = document.getElementById('build_code');            var FaceAccess = access.length < <?= count($access) ?> ? " access='" + access.join(', ') + "'"  : '';            var FaceCamera = !showCamera ? ' showCamera=false' : '';            var FaceUpload = !showUpload ? ' showUpload=false' : '';            var FacePoint = !showFacePoint ? ' showFacePoint=false' : '';            build.innerHTML = "["+key+" type='"+type+"'"+ FaceAccess + FaceCamera + FaceUpload + FacePoint +"]"        }        generate_face_age_code();        var el_all_type = document.querySelectorAll('input[name$="face_type"]');        for (var i = 0; i < el_all_type.length; i++) {            el_all_type[i].addEventListener('change', function() {                generate_face_age_code();            });        }        var el_all_acc = document.querySelectorAll('input[name$="face_access"]');        for (var i = 0; i < el_all_acc.length; i++) {            el_all_acc[i].addEventListener('change', function() {                generate_face_age_code();            });        }        document.querySelector('input[name$="face_showCamera"]').addEventListener('change', function() {            generate_face_age_code();        });        document.querySelector('input[name$="face_showUpload"]').addEventListener('change', function() {            generate_face_age_code();        });        document.querySelector('input[name$="face_showFacePoint"]').addEventListener('change', function() {            generate_face_age_code();        });    </script></div>